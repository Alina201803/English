### dictionaries and structuring data

2018-07-31

**源代码**

```python
In [1]:  myCat = {'size': 'fat', 'color': 'gray', 'disposition': 'loud'}
   ...:

In [2]: myCat['size']
Out[2]: 'fat'

In [3]: 'my cat has ' + myCat['color'] + ' fur.'
Out[3]: 'my cat has gray fur.'

In [4]: spam = {12345: 'luggage Combination', 42: 'Thr Answer'}

In [5]: spam = ['cats','dogs','moose']

In [6]: spam = ['dogs','moose','cats']

In [7]: spam == bacon
---------------------------------------------------------------------------
NameError                                 Traceback (most recent call last)
<ipython-input-7-6aacf75072c1> in <module>()
----> 1 spam == bacon

NameError: name 'bacon' is not defined

In [8]:  spam = ['cats','dogs','moose']
   ...:

In [9]: bacon = ['dogs','moose','cats']
   ...:

In [10]: spam == bacon
Out[10]: False

In [11]: eggs = {'name':'Zophie','species':'cat','age':8}

In [12]: ham = {'species':'cat',''age':8,'name':'Zophie'}
  File "<ipython-input-12-b785b421d726>", line 1
    ham = {'species':'cat',''age':8,'name':'Zophie'}
                               ^
SyntaxError: invalid syntax


In [13]:  ham = {'species':'cat','age':8,'name':'Zophie'}
    ...:
    ...:

In [14]: eggs == ham
Out[14]: True

In [15]: spam = {'name' : 'Zophie', 'age': 7}

In [16]: spam['color']
---------------------------------------------------------------------------
KeyError                                  Traceback (most recent call last)
<ipython-input-16-724acc9b6e0b> in <module>()
----> 1 spam['color']

KeyError: 'color'

In [17]: quit()


birthday = {'Alice': 'Apr 1', 'Bob': 'Dec 12', 'Carol':'Mar 4'}

while True:
    print('Enter a name: (blank to quit)')
    name = input()
    if name == ''
        break

if name in birthday:
    print(birthdays[name] + ' is the birthday of ' + name)
else:
    print('I do not have birthday information of ' + name)
    print('What is their birthday?')
    bday = input()
    birthdays[name] = bday
    print('Birthday database updated.')
           
In [2]:  spam = {'color' : 'red', 'age' : 42}
   ...:
   ...:

In [3]: for v in spam.values():
   ...:     print(v)
   ...:
red
42

In [4]: for k in spam.keys():
   ...:     print(k)
   ...:
color
age

In [5]: for i in spam.items():
   ...:     print(i)
   ...:
('color', 'red')
('age', 42)

```

**今日所学**

the dictionary data type

dictionaries vs.lists

the tkeys() values()and items()methods

Class和object的底层是dict, 是建立在dict的基础之上的.dict与object可以互相转化.

```python
In [1]: class MyCat:
   ...:     def __init__(self, size, color, disposition):
   ...:         self.size = size
   ...:         self.color = color
   ...:         self.disposition = disposition
In [3]: my_cat = MyCat(size="fat", color="gray", disposition="loud")

In [4]: vars(my_cat)
Out[4]: {'size': 'fat', 'color': 'gray', 'disposition': 'loud'}
In [5]: help(vars)
Help on built-in function vars in module builtins:

vars(...)
    vars([object]) -> dictionary
    
    Without arguments, equivalent to locals().
    With an argument, equivalent to object.__dict__.
#这是将object转化为dict,如何将dict直接转化为object,
自己定义一个class
class DictToObject:
    def __init__(self, **kwargs):
        for key, value in kwargs.items():
            setattr(self, key, value)
            
In [22]: myCat = {'size': 'fat', 'color': 'gray', 'disposition': 'loud'}
In [23]: my_cat = DictToObject(**myCat)
In [24]: my_cat.size
Out[24]: 'fat'
In [25]: my_cat.color
Out[25]: 'gray'
In [27]: myCat.size
AttributeError: 'dict' object has no attribute 'size'
In [28]: myCat['size']
Out[28]: 'fat'

In [30]: dict_birthday = {'Alice': 'Apr 1', 'Bob': 'Dec 12', 'Carol':'Mar 4'}
In [32]: obj_birthday= DictToObject(**dict_birthday)
In [33]: obj_birthday.Alice
Out[33]: 'Apr 1'
In [34]: dict_birthday['Alice']
Out[34]: 'Apr 1'
   
In [38]: help(setattr)
setattr(obj, name, value, /)
    Sets the named attribute on the given object to the specified value.
    
    setattr(x, 'y', v) is equivalent to ``x.y = v''
```

官方文档对`setattr`的解释

- `setattr`(*object*, *name*, *value*)

  This is the counterpart of [`getattr()`](https://docs.python.org/3.6/library/functions.html#getattr). The arguments are an object, a string and an arbitrary value. The string may name an existing attribute or a new attribute. The function assigns the value to the attribute, provided the object allows it. For example, `setattr(x, 'foobar', 123)` is equivalent to `x.foobar = 123`.

`setattr(x, 'foobar', 123)` is equivalent to `x.foobar = 123`.

就是偷懒省掉了,self.size = size, self.color=color这样的手动操作.用一个for循环完成.